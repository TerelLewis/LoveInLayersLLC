<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love In Layers - Baking Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üßÅ Love In Layers</h1>
            <p class="subtitle">Baking Calculator & Pricing Tool</p>
        </header>

        <main>
            <!-- Serving Size Section -->
            <section class="card serving-section">
                <h2>üìè Serving Size</h2>
                <div class="serving-controls">
                    <div class="input-group">
                        <label for="baseServings">Base Recipe Servings:</label>
                        <input type="number" id="baseServings" min="1" value="12" aria-label="Base servings">
                    </div>
                    <div class="input-group">
                        <label for="targetServings">Target Servings:</label>
                        <input type="number" id="targetServings" min="1" value="12" aria-label="Target servings">
                    </div>
                    <div class="scale-display">
                        <span>Scale Factor:</span>
                        <strong id="scaleFactor">1.00x</strong>
                    </div>
                </div>
            </section>

            <!-- Ingredients Section -->
            <section class="card ingredients-section">
                <h2>ü•Ñ Ingredients</h2>
                <p class="section-hint">For accurate cost calculation, use matching units for amount and package size (e.g., both in cups or both in oz).</p>
                <div class="add-ingredient-form">
                    <div class="ingredient-row-top">
                        <input type="text" id="ingredientName" placeholder="Ingredient name" aria-label="Ingredient name">
                        <input type="number" id="ingredientAmount" placeholder="Amount" min="0" step="0.01" aria-label="Amount needed">
                        <select id="ingredientUnit" aria-label="Unit">
                            <option value="cups">cups</option>
                            <option value="tbsp">tbsp</option>
                            <option value="tsp">tsp</option>
                            <option value="oz">oz</option>
                            <option value="lb">lb</option>
                            <option value="g">g</option>
                            <option value="kg">kg</option>
                            <option value="ml">ml</option>
                            <option value="L">L</option>
                            <option value="each">each</option>
                        </select>
                    </div>
                    <div class="ingredient-row-bottom">
                        <input type="number" id="packageSize" placeholder="Package size" min="0" step="0.01" aria-label="Package size">
                        <select id="packageUnit" aria-label="Package unit">
                            <option value="cups">cups</option>
                            <option value="tbsp">tbsp</option>
                            <option value="tsp">tsp</option>
                            <option value="oz">oz</option>
                            <option value="lb">lb</option>
                            <option value="g">g</option>
                            <option value="kg">kg</option>
                            <option value="ml">ml</option>
                            <option value="L">L</option>
                            <option value="each">each</option>
                        </select>
                        <input type="number" id="packageCost" placeholder="Package cost ($)" min="0" step="0.01" aria-label="Package cost">
                        <button type="button" id="addIngredientBtn" class="btn btn-primary">Add Ingredient</button>
                    </div>
                </div>

                <div class="ingredients-table-wrapper">
                    <table id="ingredientsTable">
                        <thead>
                            <tr>
                                <th>Ingredient</th>
                                <th>Amount</th>
                                <th>Unit</th>
                                <th>Pkg Size</th>
                                <th>Pkg Unit</th>
                                <th>Pkg Cost</th>
                                <th>Scaled Qty</th>
                                <th>Total Cost</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ingredientsList">
                            <!-- Ingredients will be added here dynamically -->
                        </tbody>
                    </table>
                </div>

                <p class="empty-state" id="emptyState">No ingredients added yet. Add your first ingredient above!</p>
            </section>

            <!-- Labor Cost Section -->
            <section class="card labor-section">
                <h2>‚è±Ô∏è Labor Cost</h2>
                <div class="labor-grid">
                    <div class="labor-calculator">
                        <div class="labor-inputs">
                            <div class="input-group">
                                <label for="hoursWorked">Hours Worked:</label>
                                <input type="number" id="hoursWorked" min="0" step="0.25" value="0" aria-label="Hours worked">
                            </div>
                            <span class="labor-operator">√ó</span>
                            <div class="input-group">
                                <label for="hourlyRate">$ per Hour:</label>
                                <input type="number" id="hourlyRate" min="0" step="0.01" value="15" aria-label="Hourly rate">
                            </div>
                            <span class="labor-operator">=</span>
                            <div class="labor-result">
                                <label>Total Labor:</label>
                                <strong id="totalLaborCost">$0.00</strong>
                            </div>
                        </div>
                    </div>
                    <div class="overhead-section">
                        <div class="input-group">
                            <label for="overheadCost">Overhead/Packaging Costs ($):</label>
                            <input type="number" id="overheadCost" min="0" step="0.01" value="0" aria-label="Overhead cost">
                            <small class="input-hint">Include boxes, bags, electricity, etc.</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cost Summary Section -->
            <section class="card cost-summary-section">
                <h2>üìä Cost Summary</h2>
                <div class="cost-summary-grid">
                    <div class="summary-row">
                        <span>Total Ingredient Cost:</span>
                        <strong id="totalIngredientCost">$0.00</strong>
                    </div>
                    <div class="summary-row">
                        <span>Labor Cost:</span>
                        <strong id="laborCostDisplay">$0.00</strong>
                    </div>
                    <div class="summary-row">
                        <span>Overhead/Packaging:</span>
                        <strong id="overheadCostDisplay">$0.00</strong>
                    </div>
                    <div class="summary-row total-row">
                        <span>Total Production Cost:</span>
                        <strong id="totalProductionCost">$0.00</strong>
                    </div>
                    <div class="summary-row">
                        <span>Cost per Serving:</span>
                        <strong id="costPerServing">$0.00</strong>
                    </div>
                </div>
            </section>

            <!-- Profit Margins Section -->
            <section class="card profit-section">
                <h2>üí∞ Profit Margins</h2>
                <div class="profit-grid">
                    <div class="profit-input">
                        <div class="input-group">
                            <label for="profitMargin">Desired Profit Margin (%):</label>
                            <input type="number" id="profitMargin" min="0" max="500" step="1" value="30" aria-label="Profit margin">
                        </div>
                    </div>
                    <div class="profit-results">
                        <div class="pricing-result">
                            <span>Total Cost:</span>
                            <strong id="totalCostDisplay">$0.00</strong>
                        </div>
                        <div class="pricing-result">
                            <span>Cost per Serving:</span>
                            <strong id="costPerServingDisplay">$0.00</strong>
                        </div>
                        <div class="pricing-result highlight">
                            <span>Sell At (<span id="marginPercent">30</span>% margin):</span>
                            <strong id="sellingPrice">$0.00</strong>
                        </div>
                        <div class="pricing-result profit">
                            <span>Profit per Serving:</span>
                            <strong id="profitPerServing">$0.00</strong>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="card actions-section">
                <h2>‚ö° Quick Actions</h2>
                <div class="action-buttons">
                    <button type="button" id="clearAllBtn" class="btn btn-secondary">Clear All Ingredients</button>
                    <button type="button" id="loadSampleBtn" class="btn btn-secondary">Load Sample Recipe</button>
                    <button type="button" id="exportBtn" class="btn btn-primary">Export Recipe</button>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2024 Love In Layers LLC. All rights reserved.</p>
        </footer>
    </div>

    <script src="calculator.js"></script>
</body>
</html>
